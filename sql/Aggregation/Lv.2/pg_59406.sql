-- 문제 링크 (주석) : https://school.programmers.co.kr/learn/courses/30/lessons/59406?language=oracle
-- 간단한 문제 설명 : 
--   - ANIMAL_INS 테이블에서 동물이 몇 마리 들어왔는지 조회
--   - 이름이 NULL인 경우도 포함하여 모든 동물의 수를 셈
--   - 결과 컬럼명은 'count'로 지정

-- -----------------------------------------------------------------------------------------
-- 테이블 스키마 (ANIMAL_INS):
--   - ANIMAL_ID         VARCHAR(N)    NOT NULL  -- 동물 아이디
--   - ANIMAL_TYPE       VARCHAR(N)    NOT NULL  -- 생물 종
--   - DATETIME          DATETIME      NOT NULL  -- 보호 시작일
--   - INTAKE_CONDITION  VARCHAR(N)    NOT NULL  -- 보호 시작 시 상태
--   - NAME              VARCHAR(N)         TRUE    -- 동물 이름 (NULL 가능)
--   - SEX_UPON_INTAKE   VARCHAR(N)    NOT NULL  -- 성별 및 중성화 여부
-- -----------------------------------------------------------------------------------------
-- 해결 방법 설명:
--   1. SELECT 절에서 전체 행의 개수를 COUNT(*)로 조회
--   2. FROM 절에서 ANIMAL_INS 테이블을 지정
--   3. 결과 컬럼명을 'count'로 지정하여 출력

-- 사용한 SQL 문법 및 함수 설명 :
--   - SELECT: 원하는 컬럼을 선택
--   - COUNT(*): 테이블의 전체 행 수를 셈
--   - FROM: 데이터를 조회할 테이블 지정
--   - AS: 컬럼에 별칭(alias) 부여

-- 쿼리 최적화 방법 :
--   - ANIMAL_ID 컬럼에 인덱스를 생성하면 특정 조회 시 성능 향상을 기대할 수 있음
--   - 그러나 전체 행 수를 세는 COUNT(*)는 테이블의 전체 스캔을 필요로 하므로 인덱스의 효과는 제한적임
--   - 인덱스는 주로 특정 조건에 맞는 행을 빠르게 조회할 때 유용함
--
--   예시 인덱스 생성:
--     CREATE INDEX idx_animal_id ON ANIMAL_INS(ANIMAL_ID);
--
-- 시간/공간 복잡도 :
--   - 시간복잡도 : O(N) - 테이블 전체 스캔 후 COUNT 연산
--   - 공간복잡도 : O(1) - 단일 값 집계를 위해 추가 공간 필요 없음
-- -------------------------------------------------------------------------------------------
-- 최종 쿼리
-- -------------------------------------------------------------------------------------------

SELECT 
    COUNT(*) AS count            -- 동물의 총 수를 'count'라는 별칭으로 조회
FROM 
    ANIMAL_INS;                  -- 데이터 소스 테이블

-- -------------------------------------------------------------------------------------------
-- 추가 최적화: 특정 조건에서 COUNT(*) 최적화
-- -------------------------------------------------------------------------------------------

-- 만약 특정 조건에 맞는 동물의 수를 셀 경우, WHERE 절을 추가하여 필터링할 수 있습니다.
-- 예를 들어, 특정 종류의 동물만 세고 싶다면 다음과 같이 작성할 수 있습니다.

-- SELECT 
--     COUNT(*) AS count
-- FROM 
--     ANIMAL_INS
-- WHERE 
--     ANIMAL_TYPE = 'Dog';

-- -------------------------------------------------------------------------------------------
-- 쿼리 실행 예시
-- -------------------------------------------------------------------------------------------

-- 주어진 예시 데이터를 기준으로 쿼리를 실행하면 다음과 같이 결과가 출력됩니다:
--
-- | count |
-- |-------|
-- | 4     |
--
-- -------------------------------------------------------------------------------------------
-- 추가 설명:
--
-- 1. **COUNT(*)**:
--    - COUNT 함수는 행의 수를 세는 함수입니다.
--    - COUNT(*)는 NULL 값을 포함한 모든 행을 셉니다.
--
-- 2. **AS 키워드**:
--    - AS 키워드는 컬럼에 별칭을 부여할 때 사용됩니다.
--    - 여기서는 COUNT(*)의 결과에 'count'라는 별칭을 부여하여 결과 컬럼명을 설정합니다.
--
-- 3. **쿼리 최적화**:
--    - ANIMAL_ID 컬럼에 인덱스를 생성하면 특정 조건에 맞는 행을 빠르게 조회할 수 있습니다.
--    - 하지만 전체 행 수를 세는 COUNT(*)는 인덱스의 도움을 받기 어렵기 때문에, 이 경우 인덱스의 효과는 제한적입니다.
--
-- 4. **실제 데이터 적용**:
--    - 예시 데이터에서는 총 4마리의 동물이 보호소에 들어왔으므로, 쿼리를 실행하면 'count' 컬럼에 4가 반환됩니다.
--
-- -------------------------------------------------------------------------------------------